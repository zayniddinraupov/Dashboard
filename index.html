<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∞–º–∞—Ä“õ–∞–Ω–¥ | Dashboard"</title>

    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <link rel="stylesheet" href="stayl.css">
</head>

<body>

    <!-- LOGIN -->
    <div id="loginPage" class="login">
        <div class="login-box">
            <h2>Login</h2>
            <input id="login" placeholder="–õ–æ–≥–∏–Ω">
            <input id="password" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
            <button class="primary" onclick="loginUser()">–í–æ–π—Ç–∏</button>
        </div>
    </div>

    <!-- MAIN -->
    <div id="mainPage" class="hidden">

        <header>
            <h2>Dashboard <span id="userRole" style="font-size:14px;color:#666;font-weight:normal;"></span></h2>
            <div>
                <span style="margin-right:15px;color:#666;font-size:12px;">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: sam_veb_razrabaotclik</span>
                <button class="export" style="display:none" onclick="exportExcel()">–≠–∫—Å–ø–æ—Ä—Ç</button>
                <button class="logout" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </header>

        <div class="container">

            <div class="stats" id="stats"></div>

            <button id="addBtn" class="primary" style="display:none" onclick="toggleAdd()">+ –î–æ–±–∞–≤–∏—Ç—å
                —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
            <button id="globalPhotoBtn" class="primary" style="display:none;margin-left:10px;background:#3498db;"
                onclick="document.getElementById('globalPhotoInput').click()">üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ –¥–ª—è –≤—Å–µ—Ö</button>
            <button id="clearPhotoBtn" class="primary" style="display:none;margin-left:10px;background:#e74c3c;"
                onclick="clearAllPhotos()">üóë –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ç–æ</button>
            <span id="autoSaveStatus" style="margin-left:10px;color:#27ae60;font-size:12px;display:none;">üíæ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</span>
            <button id="syncBtn" class="primary" style="display:none;margin-left:10px;background:#f39c12;"
                onclick="saveToGoogleSheet(); alert('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!')">‚òÅÔ∏è –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="primary" style="margin-left:10px;background:#27ae60;"
                onclick="loadFromGoogle()">‚òÅÔ∏è –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
            <button id="clearAllBtn" class="primary" style="display:none;margin-left:10px;background:#e74c3c;"
                onclick="clearAllData()">üóë –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
            <input type="file" id="globalPhotoInput" accept="image/*" style="display:none"
                onchange="handleGlobalPhotoUpload(event)">
            <input type="file" id="employeePhotoInput" accept="image/*" style="display:none"
                onchange="handleEmployeePhotoUpload(event)">

            <div id="addSection" class="hidden">
                <h3 style="margin:20px 0">–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h3>
                <input id="newName" placeholder="–§–ò–û">
                <input id="newPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
                <select id="newGender">
                    <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                    <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
                </select>
                <select id="newStatus" onchange="toggleDateRange()">
                    <option>–ù–∞ —Ä–∞–±–æ—Ç–µ</option>
                    <option>–£—á—ë–±–∞</option>
                    <option>–û—Ç–ø—É—Å–∫</option>
                    <option>–ë–æ–ª—å–Ω–∏—á–Ω—ã–π</option>
                    <option>–ë–µ–∑ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è</option>
                    <option>–î–µ–∫—Ä–µ—Ç</option>
                    <option>–ê—Ä–º–∏—è</option>
                    <option>–£–≤–æ–ª—å–Ω–µ–Ω–∏–µ</option>
                </select>
                <button type="button" onclick="toggleExtraFields()" style="background:#9b59b6;color:white;margin:10px 0;">üìã –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è</button>
                <div id="extraFields" style="display:none">
                    <input id="newOperator" placeholder="–ù–æ–º–µ—Ä –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞">
                    <input id="newAddress" placeholder="–ê–¥—Ä–µ—Å">
                    <input id="newDate" placeholder="–î–∞—Ç–∞ –ø—Ä–∏–µ–º–∞ (01.01.2024)">
                    <input id="newBirthday" placeholder="–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (01.01.2000)">
                    <input id="newPhoto" placeholder="URL —Ñ–æ—Ç–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)">
                </div>
                <div id="dateRangeFields"
                    style="display:none; margin:10px 0; padding:10px; background:#f8f9fa; border-radius:5px;">
                    <label>–ü–µ—Ä–∏–æ–¥: </label>
                    <input id="newDateFrom" placeholder="–° (01.01.2024)" style="width:150px">
                    <input id="newDateTo" placeholder="–ü–æ (31.01.2024)" style="width:150px">
                </div>
                <div id="firedDateField"
                    style="display:none; margin:10px 0; padding:10px; background:#f8f9fa; border-radius:5px;">
                    <label>–î–∞—Ç–∞ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è: </label>
                    <input id="newFiredDate" placeholder="–î–∞—Ç–∞ (01.01.2024)" style="width:150px">
                </div>
                <button class="primary" onclick="addEmployee()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>

            <hr style="margin:30px 0">

            <input id="search" placeholder="–ü–æ–∏—Å–∫..." onkeyup="renderEmployees()">
            <select id="genderFilter" onchange="renderEmployees()" style="margin-left:10px;padding:8px;border-radius:5px;border:1px solid #ddd;">
                <option value="">–í—Å–µ –ø–æ–ª—ã</option>
                <option value="male">üë® –ú—É–∂—Å–∫–æ–π</option>
                <option value="female">üë© –ñ–µ–Ω—Å–∫–∏–π</option>
            </select>

            <div id="employeeList"></div>

        </div>
    </div>

    <script src="script.js"></script>

</body>

</html>